@use '@carbon/react/scss/spacing' as *;
@use '@carbon/react/scss/type' as *;
@use '@carbon/react/scss/colors' as *;
@use '@carbon/react/scss/breakpoint' as *;

.storefront {
  --store-primary: #0f62fe;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background-color: $gray-10;

  &--loading,
  &--error,
  &--offline {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    text-align: center;
    padding: $spacing-07;
    background-color: $white-0;

    svg {
      color: $gray-50;
      margin-bottom: $spacing-05;
    }

    h1 {
      @include type-style('heading-04');
      margin-bottom: $spacing-03;
    }

    p {
      @include type-style('body-01');
      color: $gray-70;
    }
  }

  &__header {
    background-color: $white-0;
    border-bottom: 1px solid $gray-20;
    padding: $spacing-05;
    position: sticky;
    top: 0;
    z-index: 100;
  }

  &__header-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: $spacing-05;
  }

  &__brand {
    display: flex;
    align-items: center;
    gap: $spacing-04;
  }

  &__logo {
    width: 48px;
    height: 48px;
    border-radius: 8px;
    object-fit: cover;
  }

  &__logo-placeholder {
    width: 48px;
    height: 48px;
    border-radius: 8px;
    background-color: var(--store-primary);
    color: $white-0;
    display: flex;
    align-items: center;
    justify-content: center;
    @include type-style('heading-03');
    font-weight: 600;
  }

  &__brand-info {
    h1 {
      @include type-style('heading-03');
      margin: 0;
    }

    p {
      @include type-style('body-compact-01');
      color: $gray-70;
      margin: 0;
      max-width: 300px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;

      @include breakpoint-down('md') {
        display: none;
      }
    }
  }

  &__cart-button {
    .cds--tag {
      margin-left: $spacing-02;
      background-color: $white-0;
      color: var(--store-primary);
    }
  }

  &__banner {
    margin: 0;
    max-width: none;
  }

  &__search {
    max-width: 1200px;
    margin: $spacing-05 auto;
    padding: 0 $spacing-05;
    width: 100%;
    box-sizing: border-box;

    .cds--text-input-wrapper,
    .cds--text-input {
      width: 100%;
      max-width: 100%;
      background-color: $white-0;
    }
  }

  &__products {
    flex: 1;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 $spacing-05 $spacing-07;
    width: 100%;
  }

  &__empty {
    text-align: center;
    padding: $spacing-09;
    color: $gray-60;
  }

  &__load-more {
    display: flex;
    justify-content: center;
    padding: $spacing-06 0;
  }

  &__grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: $spacing-05;

    @include breakpoint-down('sm') {
      grid-template-columns: repeat(2, 1fr);
      gap: $spacing-03;
    }
  }

  &__footer {
    background-color: $white-0;
    border-top: 1px solid $gray-20;
    padding: $spacing-05;
    text-align: center;
  }

  &__contact {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: $spacing-05;
    margin-bottom: $spacing-03;

    a,
    span {
      display: flex;
      align-items: center;
      gap: $spacing-02;
      @include type-style('body-compact-01');
      color: $gray-70;
      text-decoration: none;

      &:hover {
        color: var(--store-primary);
      }
    }
  }

  &__powered {
    @include type-style('label-01');
    color: $gray-50;
    margin: 0;

    strong {
      color: $gray-70;
    }
  }
}

// Product Card
.product-card {
  display: flex;
  flex-direction: column;
  padding: 0;
  overflow: hidden;
  transition: box-shadow 0.2s;

  &:hover {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
  }

  &__link {
    text-decoration: none;
    color: inherit;
    display: flex;
    flex-direction: column;
    cursor: pointer;
    transition: opacity 0.2s;

    &:hover {
      opacity: 0.9;
    }

    &:focus {
      outline: 2px solid var(--store-primary);
      outline-offset: 2px;
    }
  }

  &__image {
    width: 100%;
    height: 180px;
    object-fit: cover;
    background-color: $gray-20;

    @include breakpoint-down('sm') {
      height: 140px;
    }
  }

  &__image-placeholder {
    width: 100%;
    height: 180px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: $gray-20;
    color: $gray-50;

    @include breakpoint-down('sm') {
      height: 140px;
    }
  }

  &__content {
    padding: $spacing-04;
    display: flex;
    flex-direction: column;
    flex: 1;
  }

  &__name {
    @include type-style('heading-compact-01');
    margin: 0 0 $spacing-02 0;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  &__description {
    @include type-style('body-compact-01');
    color: $gray-70;
    margin: 0 0 $spacing-03 0;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    flex: 1;

    @include breakpoint-down('sm') {
      display: none;
    }
  }

  &__footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: $spacing-03;
    margin-top: auto;
    padding: 0 $spacing-04 $spacing-04 $spacing-04;
  }

  &__price-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }

  &__price {
    @include type-style('heading-compact-02');
    color: var(--store-primary);
  }

  &__vat {
    @include type-style('label-01');
    color: $gray-60;
  }
}

// Cart Styles
.cart {
  &__empty {
    text-align: center;
    padding: $spacing-07;
    color: $gray-60;
  }

  &__items {
    display: flex;
    flex-direction: column;
    gap: $spacing-03;
    margin-bottom: $spacing-05;
  }

  &__item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: $spacing-03;
    background-color: $gray-10;
    border-radius: 4px;
    gap: $spacing-03;
  }

  &__item-info {
    display: flex;
    flex-direction: column;
    gap: $spacing-01;
    flex: 1;
    min-width: 0;
  }

  &__item-name {
    @include type-style('body-compact-01');
    font-weight: 500;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  &__item-price {
    @include type-style('label-01');
    color: $gray-70;
  }

  &__item-vat {
    @include type-style('label-01');
    color: $gray-50;
    font-size: 11px;
  }

  &__item-controls {
    display: flex;
    align-items: center;
    gap: $spacing-02;
  }

  &__item-qty {
    @include type-style('body-compact-01');
    min-width: 24px;
    text-align: center;
  }

  &__summary {
    padding-top: $spacing-04;
    border-top: 1px solid $gray-20;
  }

  &__line {
    display: flex;
    justify-content: space-between;
    @include type-style('body-compact-01');
    margin-bottom: $spacing-02;

    &--vat {
      color: $gray-60;
    }
  }

  &__total {
    display: flex;
    justify-content: space-between;
    align-items: center;
    @include type-style('heading-compact-02');
    margin-bottom: $spacing-03;
    margin-top: $spacing-02;
    padding-top: $spacing-02;
    border-top: 1px solid $gray-30;
  }
}

// Checkout Form
.checkout-form {
  display: flex;
  flex-direction: column;
  gap: $spacing-05;

  &__payment-methods {
    h4 {
      @include type-style('label-01');
      margin-bottom: $spacing-03;
    }

    .payment-methods {
      display: flex;
      flex-wrap: wrap;
      gap: $spacing-03;

      .cds--btn {
        flex: 1;
        min-width: 120px;
      }
    }
  }

  &__payment-notice {
    margin-top: $spacing-03;
  }

  &__summary {
    padding: $spacing-04;
    background-color: $gray-10;
    border-radius: 4px;
    margin-top: $spacing-03;
  }

  &__line {
    display: flex;
    justify-content: space-between;
    @include type-style('body-compact-01');
    margin-bottom: $spacing-02;

    &--total {
      margin-top: $spacing-03;
      padding-top: $spacing-03;
      border-top: 1px solid $gray-30;
      @include type-style('heading-compact-02');
      margin-bottom: 0;
    }
  }

  &__processing-fee {
    display: flex;
    justify-content: space-between;
    @include type-style('label-01');
    color: $gray-60;
    margin-top: $spacing-03;
    padding-top: $spacing-02;
    font-style: italic;
  }
}

// Order Confirmation
.order-confirmation {
  text-align: center;
  padding: $spacing-05;

  &__icon {
    margin-bottom: $spacing-05;

    svg {
      color: $green-50;
    }
  }

  h2 {
    @include type-style('heading-03');
    margin-bottom: $spacing-03;
  }

  p {
    @include type-style('body-01');
    color: $gray-70;
    margin-bottom: $spacing-03;
  }

  &__number {
    @include type-style('heading-04');
    color: var(--store-primary);
    padding: $spacing-04;
    background-color: $gray-10;
    border-radius: 4px;
    margin: $spacing-05 0;
  }

  a {
    color: var(--store-primary);
  }

  &__track-link {
    display: inline-block;
    margin-top: $spacing-05;
    text-decoration: none;
  }
}